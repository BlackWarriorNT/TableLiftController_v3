<html lang='ru'>
    <head>
        <meta http-equiv='content-type' content='text/html; charset=utf-8'>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
<body>
    <div class="panelMain contentMain">
        <div class="dev_uptime header">
            <span style="float:left; font-size: 75%; vertical-align: top; padding: 5px;">
                Время работы<br><span id="uptime">07:30</span>
            </span>
        </div>
        <div class="dev_title header"><span style="font-size: 200%;">Умный стол</span></div>
        <div class="dev_info header">
            <span style="float:right; font-size: 75%; vertical-align: top; padding: 5px;">
                RSSI:&nbsp;<span id="rssi">-33dBi</span><br>
                VCC:&nbsp;<span id="vcc">3.00V</span>
            </span>
        </div>
        <div class="dev_curHeight heightInfo">999.9 cm</div>
        <div class="buttonUp centerContent"><button class="btnArrow">&#129145;</button></div>
        <div class="buttonDown centerContent"><button class="btnArrow">&#129147;</button></div>
        <div class="dev_modes centerContent">
            <div><a href="setLiftMin"><button class="btnSelect" style="width: 40px;">&#10515;</button></a></div>
            <div><a href="setLiftMode1"><button class="btnSelect">Режим&nbsp;1</button></a></div>
            <div><a href="setLiftMode2"><button class="btnSelect">Режим&nbsp;2</button></a></div>
            <div><a href="setLiftMax"><button class="btnSelect" style="width: 40px;">&#10514;</button></a></div>
        </div>
        <div class="buttonConfig centerContent"><a href="config.html"></a><button class="btnSelect">Настройки</button></a></div>
    </div>
</body>
</html>
<script>
    window.onload = function() {
        var esp8266json = JSON.parse(httpGet('http://192.168.0.251/json'));
        console.log(esp8266json);
    };
    function httpGet(theUrl, callback) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function() {
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200) callback(xmlHttp.responseText);
        }
        xmlHttp.open("GET", theUrl, true);
        xmlHttp.send(null);
    }
</script>